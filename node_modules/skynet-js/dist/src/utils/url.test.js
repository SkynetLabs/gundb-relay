"use strict";
exports.__esModule = true;
var url_1 = require("./url");
var portalUrl = url_1.defaultSkynetPortalUrl;
var skylink = "XABvi7JtJbQSMAcDwnUnmp2FKDPjg8_tTTFP4BwMSxVdEg";
describe("addUrlQuery", function () {
    it("should return correctly formed URLs with query parameters", function () {
        expect(url_1.addUrlQuery(portalUrl, { filename: "test" })).toEqual(portalUrl + "?filename=test");
        expect(url_1.addUrlQuery(portalUrl + "/path/", { download: true })).toEqual(portalUrl + "/path/?download=true");
        expect(url_1.addUrlQuery(portalUrl + "/skynet/", { foo: 1, bar: 2 })).toEqual(portalUrl + "/skynet/?foo=1&bar=2");
        expect(url_1.addUrlQuery(portalUrl + "/", { attachment: true })).toEqual(portalUrl + "/?attachment=true");
        expect(url_1.addUrlQuery(portalUrl + "?foo=bar", { attachment: true })).toEqual(portalUrl + "?foo=bar&attachment=true");
        expect(url_1.addUrlQuery(portalUrl + "/?attachment=true", { foo: "bar" })).toEqual(portalUrl + "/?attachment=true&foo=bar");
        expect(url_1.addUrlQuery(portalUrl + "#foobar", { foo: "bar" })).toEqual(portalUrl + "?foo=bar#foobar");
    });
});
describe("makeUrl", function () {
    it("should return correctly formed URLs", function () {
        expect(url_1.makeUrl(portalUrl, "/")).toEqual(portalUrl + "/");
        expect(url_1.makeUrl(portalUrl, "/skynet")).toEqual(portalUrl + "/skynet");
        expect(url_1.makeUrl(portalUrl, "/skynet/")).toEqual(portalUrl + "/skynet/");
        expect(url_1.makeUrl(portalUrl, "/", skylink)).toEqual(portalUrl + "/" + skylink);
        expect(url_1.makeUrl(portalUrl, "/skynet", skylink)).toEqual(portalUrl + "/skynet/" + skylink);
        expect(url_1.makeUrl(portalUrl, "//skynet/", skylink)).toEqual(portalUrl + "/skynet/" + skylink);
        expect(url_1.makeUrl(portalUrl, "/skynet/", skylink + "?foo=bar")).toEqual(portalUrl + "/skynet/" + skylink + "?foo=bar");
        expect(url_1.makeUrl(portalUrl, skylink + "/?foo=bar")).toEqual(portalUrl + "/" + skylink + "?foo=bar");
        expect(url_1.makeUrl(portalUrl, skylink + "#foobar")).toEqual(portalUrl + "/" + skylink + "#foobar");
    });
});
